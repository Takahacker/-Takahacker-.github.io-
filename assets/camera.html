<!DOCTYPE html>
<html>
<head>
  <title>Visualização da Câmera</title>
</head>
<body>
  <h1>Visualização da Câmera</h1>

  <button id="ligarCamera">Ligar Câmera</button>
  <button id="desligarCamera">Desligar Câmera</button>

  <video id="camera-preview" width="640" height="480" autoplay></video>

  <script>
    const videoElement = document.getElementById('camera-preview');
    const startButton = document.getElementById('ligarCamera');
    const stopButton = document.getElementById('desligarCamera');
    let stream = null;

    startButton.addEventListener('click', async () => {
      try {
        stream = await navigator.mediaDevices.getUserMedia({ video: true });

        videoElement.srcObject = stream;
      } catch (error) {
        console.error('Erro ao acessar a câmera: ', error);
      }
    });

    stopButton.addEventListener('click', () => {
      videoElement.srcObject = null;

      if (stream) {
        const tracks = stream.getTracks();
        tracks.forEach(track => track.stop());
      }
    });
  </script>
</body>
</html>
